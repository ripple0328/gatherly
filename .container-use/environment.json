{
  "workdir": "/workdir",

  "base_image": "ubuntu:24.04",
  "setup_commands": [
    "apt-get update \u0026\u0026 apt-get install -y curl git build-essential autoconf m4 libncurses5-dev libwxgtk3.2-dev libwxgtk-webview3.2-dev libgl1-mesa-dev libglu1-mesa-dev libpng-dev libssh-dev unixodbc-dev xsltproc fop libxml2-utils libncurses-dev openjdk-11-jdk",
    "curl -fsSL https://github.com/asdf-vm/asdf/archive/v0.14.0.tar.gz | tar -xz --strip-components=1 -C /opt",
    "bash -c 'echo \"export PATH=/opt/bin:$PATH\" \u003e\u003e ~/.bashrc \u0026\u0026 echo \"source /opt/asdf.sh\" \u003e\u003e ~/.bashrc'",
    "bash -c 'export PATH=/opt/bin:$PATH \u0026\u0026 . /opt/asdf.sh \u0026\u0026 asdf plugin add erlang \u0026\u0026 asdf plugin add elixir \u0026\u0026 asdf plugin add nodejs'",
    "bash -c 'export PATH=/opt/bin:$PATH \u0026\u0026 . /opt/asdf.sh \u0026\u0026 asdf install elixir 1.18 \u0026\u0026 asdf install nodejs 24.2.0'",
    "bash -c 'export PATH=/opt/bin:$PATH \u0026\u0026 . /opt/asdf.sh \u0026\u0026 asdf global elixir 1.18 \u0026\u0026 asdf global nodejs 24.2.0'",
    "apt-get install -y postgresql-client"
  ],
  "env": [
    "MIX_ENV=dev",
    "PORT=4000"
  ],
  "services": [
    {
      "name": "postgres",
      "image": "postgres:16",
      "exposed_ports": [
        5432
      ],
      "env": [
        "POSTGRES_DB=gatherly_dev",
        "POSTGRES_USER=postgres",
        "POSTGRES_PASSWORD=postgres"
      ]
    }
  ]
}
